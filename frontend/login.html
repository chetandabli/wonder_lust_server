<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login ‚Äî Wonderlust Travels</title>
  <style>
    :root {
      --brand: #0072ff;
      --brand-dark: #0056c2;
      --bg: #f9fafb;
      --card: #ffffff;
      --ink: #0f172a;
      --muted: #61717f;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* ---------- Navbar ---------- */
    .top-nav {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 50;
      background: linear-gradient(90deg, rgba(15, 23, 42, .92), rgba(30, 64, 175, .92));
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(15, 23, 42, .45);
    }

    .top-nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* ---------- Page layout ---------- */
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      min-height: 100vh;
      background: url('https://plus.unsplash.com/premium_photo-1661962428918-6a57ab674e23?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;
      color: var(--ink);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
    }

    .container {
      width: 100%;
      max-width: 980px;
      display: grid;
      grid-template-columns: 1fr 420px;
      gap: 32px;
      align-items: center;
      padding: 120px 24px 48px;
    }

    .brand-hero {
      padding: 28px;
      border-radius: 16px;
      background: white;
      box-shadow: 0 8px 24px rgba(2, 6, 23, 0.06);
    }

    .brand-hero h1 {
      font-size: clamp(1.6rem, 3vw, 2.2rem);
      color: var(--brand);
    }

    .brand-hero p {
      margin-top: 12px;
      color: var(--muted);
      line-height: 1.5;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(2, 6, 23, 0.08);
      padding: 22px;
    }

    .card h2 {
      font-size: 1.25rem;
      margin-bottom: 8px;
    }

    .form-row {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin: 12px 0;
    }

    label {
      font-size: .9rem;
      color: var(--muted);
    }

    input[type="email"],
    input[type="password"],
    input[type="text"] {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #e6eef6;
      font-size: 1rem;
    }

    .actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 14px;
    }

    .btn {
      background: var(--brand);
      color: #fff;
      border: 0;
      padding: 10px 14px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
    }

    .btn.secondary {
      background: transparent;
      border: 1px solid #e6eef6;
      color: var(--ink);
    }

    .muted {
      color: var(--muted);
      font-size: .9rem;
    }

    .helper {
      margin-top: 12px;
      color: #b91c1c;
      font-size: .9rem;
      display: none;
    }

    .small {
      font-size: .9rem;
    }

    .remember {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .toggle-pass {
      background: transparent;
      border: 0;
      color: var(--brand);
      cursor: pointer;
      font-weight: 600;
    }

    @media (max-width:900px) {
      .container {
        grid-template-columns: 1fr;
      }

      body {
        padding: 96px 20px 24px;
      }
    }

    /* ---------- Footer ---------- */
    footer {
      background: #0b1220;
      color: #cbd5e1;
      width: 100%;
      margin-top: 60px;
    }

    .footer-wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 28px 16px;
      display: grid;
      gap: 18px;
      grid-template-columns: 1.2fr 1fr 1fr;
    }

    footer h4 {
      color: #fff;
      margin-bottom: 10px;
    }

    footer a {
      color: #cbd5e1;
      text-decoration: none;
    }

    footer a:hover {
      color: #fff;
    }

    .foot-bottom {
      border-top: 1px solid rgba(255, 255, 255, .08);
      padding: 12px 16px;
      text-align: center;
      opacity: .8;
    }

    @media (max-width:820px) {
      .footer-wrap {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>

  <!-- ===== NAVBAR ===== -->
  <nav class="top-nav">
    <div class="top-nav-inner">
      <div style="display:flex;align-items:center;gap:10px;font-size:1.4rem;font-weight:bold;color:#a3e635; cursor: pointer;" onclick="location.href='index.html'">
        <img src="logo.png" alt="Wonderlust Travels Logo"
          style="height:40px;width:auto;object-fit:contain;vertical-align:middle;">
        WONDERLUST TRAVELS
      </div>

      <div style="display:flex; gap:15px; align-items:center;">
        <span style="font-size:1rem; font-weight:500; color:white;">üìû +91 9876543210</span>
        <button onclick="location.href='index.html'" style="
          background:#0072ff;
          color:white;
          border:none;
          padding:8px 16px;
          border-radius:999px;
          cursor:pointer;
          font-weight:600;
        " onmouseover="this.style.background='#0056c2'" onmouseout="this.style.background='#0072ff'">
          Back to site
        </button>
      </div>
    </div>
  </nav>

  <!-- ===== LOGIN CONTENT ===== -->
  <div class="container">
    <div class="brand-hero">
      <h1>WANDERLUST TRAVELS</h1>
      <p>Welcome back ‚Äî sign in to manage bookings, view your trips, and talk with our travel experts. If you don't have
        an account yet you can create one from the signup link after login.</p>
      <ul style="margin-top:16px;color:var(--muted);">
        <li style="margin:8px 0">Secure access to your bookings</li>
        <li style="margin:8px 0">Easy cancellation & refunds</li>
        <li style="margin:8px 0">Special offers for members</li>
      </ul>
    </div>

    <div class="card" role="region" aria-label="Login form">
      <h2>Sign in to your account</h2>

      <form id="loginForm" novalidate>
        <div class="form-row">
          <label for="email">Email or phone</label>
          <input id="email" name="email" type="text" inputmode="email"
            placeholder="you@example.com or +91 98765 43210" required>
        </div>

        <div class="form-row">
          <label for="password">Password</label>
          <div style="display:flex;gap:8px;align-items:center">
            <input id="password" name="password" type="password" placeholder="Enter password" required>
            <button type="button" class="toggle-pass" id="togglePass" aria-pressed="false">Show</button>
          </div>
        </div>

        <div class="actions">
          <div class="remember">
            <input id="remember" type="checkbox">
            <label for="remember" class="small muted">Remember me</label>
          </div>

          <a href="#" class="small muted" id="forgot">Forgot password?</a>
        </div>

        <div class="form-row">
          <div style="display:flex;gap:10px;align-items:center">
            <button class="btn" id="loginBtn" type="submit">Log in</button>
            <button type="button" class="btn secondary" onclick="location.href='index.html'">Back to
              site</button>
          </div>
        </div>

        <div class="helper" id="helper">Something went wrong. Please try again.</div>

        <p class="small muted" style="margin-top:8px">
          Don't have an account?
          <a href="signup.html">Sign up</a>
        </p>
      </form>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer>
    <div class="footer-wrap">
      <div>
        <h4>About Wonderlust Travels</h4>
        <p>We curate unforgettable group trips and crafted holidays across India & abroad. 1000+ happy travelers.</p>
      </div>
      <div>
        <h4>Contact</h4>
        <p>üìû +91 9876543210<br />‚úâÔ∏è hello@wanderlusttravels.com</p>
      </div>
      <div>
        <h4>Quick Links</h4>
        <p><a href="feedback.html">Feedback</a> ¬∑ <a href="#">Terms</a></p>
      </div>
    </div>
    <div class="foot-bottom">¬© <span id="year"></span> Wonderlust Travels ‚Äî All rights reserved.</div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const pass = document.getElementById('password');
    const toggle = document.getElementById('togglePass');
    const form = document.getElementById('loginForm');
    const helper = document.getElementById('helper');

    // Toggle password visibility
    toggle.addEventListener('click', () => {
      const isHidden = pass.type === 'password';
      pass.type = isHidden ? 'text' : 'password';
      toggle.textContent = isHidden ? 'Hide' : 'Show';
      toggle.setAttribute('aria-pressed', isHidden ? 'true' : 'false');
    });

    // Backend API base
    const API_BASE = 'https://wonderlustserver-production.up.railway.app/';

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      helper.style.display = 'none';

      const identifier = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;

      if (!identifier || password.length < 3) {
        helper.textContent = 'Please enter your email/phone and password.';
        helper.style.display = 'block';
        return;
      }

      try {
        const res = await fetch(`${API_BASE}/api/login`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ identifier, password }),
        });

        if (!res.ok) {
          helper.textContent = 'Invalid email/phone or password.';
          helper.style.display = 'block';
          return;
        }

        const user = await res.json();

        // Save user in localStorage (for profile page)
        localStorage.setItem('wander_user', JSON.stringify(user));

        // Redirect to profile page
        window.location.href = 'profile.html';
      } catch (err) {
        console.error(err);
        helper.textContent = 'Unable to connect to server. Check backend.';
        helper.style.display = 'block';
      }
    });

    // Prefill if you stored previous identifier (optional)
    window.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('wander_user');
      if (saved) {
        const user = JSON.parse(saved);
        if (user.email) document.getElementById('email').value = user.email;
      }
    });
  </script>

</body>

</html>
